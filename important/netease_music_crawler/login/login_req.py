from Crypto.Cigpher import AES
import base64
import random
import codecs
import requests
from fake_useragent import UserAgent
from http.cookiejar import LWPCookieJar
import hashlib

'''
之前也写过网易云音乐的评论爬取，下载歌曲，还有其他等等。。。
网易云音乐登录加密方式其实和评论的加密方式是一样的，只不过传入的参数不同罢了，而登录需要构造下面login方法注释里字典格式
注意千万不要使用json.dumps(字典)来将字典转为json格式字符串。因为字典它是无序的，转出来的json字符串有可能是不一样的，这样
导致最终加密出来的字符串是不同的
其实上一篇爬取评论的时候，我就写了登录方式。但是登录失败了。加密方式是没有变的，通过js调试，我发现checkToken这个参数的值，
它是变化的，所以那时就一直想找到checkToken它的参数是怎么来的。找得头都大，位置大概知道了。但是解出来的话，我能力不够(其实就不太愿意花时间去弄)，
我也在网上搜索过，但也没找到想要的答案。弄了一段时间，就先放一放了。
昨天晚上写完微博的模拟登录，今早想起了网易云音乐登录还没写完。捣腾了一会儿。发现之前一直想解出的checkToken参数，不传也
可以成功登录。
不必要弄懂全部参数的加密方式，有时候这个参数后台不是判断的必要条件。
'''

e = '{"countrycode":86,"phone":"13901513299","password":"4297f44b13955235245b2497399d7a93","rememberLogin":"true","secureCaptcha":"NANP_uqMLdFKLpbQq.IzvFMjj9hWUMPB-y.O6slTJ2AyeaXEgki8OIQxWq56MFv7At7nRLO9BAkDjhFpxeVBN9te4EgiYfhbzpOR2Oc9Y--MIk.UdwBUB5pj._e2zIyUQEjNCA4fNAM94NUUU1fzTcyFQA5c9bAtU8f9EQkEv_uBuU.9JqM0SELoDVAQ62yF-p1uYioffpnnd4yMx2__25YdRE9MgRVr.VpDYwXBClLn4bprTGuub0QmyLi.EJaZR4UGenx_IgYmnMg4tot1GwzcqDFBW-XEYiLt-__SpTFCmQOMgwO5Ow0-Q6HwQNStie2GvpoTXPtkXYeMWTk-2UzIoGufwhRXkrcumzKpiDdeIOPIv1yulsLgUY-l_ZkoV6DmLIUEyPtSIWpLdWN2pw0DI4r-WLJinXA8TTkLeLxRsMs9g025eRUiB404JYaqxidfEVVN4wJmSkbODGfvkRB8N0jA_UzqJsAWkf-YpUSUSTuYtjGHUQbn8Y20aSmA3","checkToken":"9ca17ae2e6ffcda170e2e6eed2d26fa1edaeb8b77eb1868aa2d14a869e8fb0d84afceea7b3c13e9cad98d5e12af0feaec3b92a91b3a68ec721a8efa59be25e968e9ab6d54aa38b9e91fc3aa8968bd0e2398e92ee9e"}'
t = '010001'
n = '00e0b509f6259df8642dbc35662901477df22677ec152b5ff68ace615bb7b725152b3ab17a876aea8a5aa76d2e417629ec4ee341f56135fccf695280104e0312ecbda92557c93870114af6c9d05c4f7f0c3685b7a46bee255932575cce10b424d813cfe4875d3e82047b97ddef52741d546b8e289dc6935b3ece0462db0a22b8e7'
n = '00e0b509f6259df8642dbc35662901477df22677ec152b5ff68ace615bb7b725152b3ab17a876aea8a5aa76d2e417629ec4ee341f56135fccf695280104e0312ecbda92557c93870114af6c9d05c4f7f0c3685b7a46bee255932575cce10b424d813cfe4875d3e82047b97ddef52741d546b8e289dc6935b3ece0462db0a22b8e7'
n = '00e0b509f6259df8642dbc35662901477df22677ec152b5ff68ace615bb7b725152b3ab17a876aea8a5aa76d2e417629ec4ee341f56135fccf695280104e0312ecbda92557c93870114af6c9d05c4f7f0c3685b7a46bee255932575cce10b424d813cfe4875d3e82047b97ddef52741d546b8e289dc6935b3ece0462db0a22b8e7'

password = 'b04f30e47b884e176432314f865eccc9'
password = 'a715367b619902ea4cebe07b6c948072'